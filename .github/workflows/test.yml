- name: FTP/FTPS Deploy
  uses: SamKirkland/FTP-Deploy-Action@v4.3.5
  with:
    server:   ${{ secrets.FTP_HOST_STG }}       # مثلا: ftp.witroviptest.ir
    username: ${{ secrets.FTP_USER_STG }}
    password: ${{ secrets.FTP_PASS_STG }}
    port:     ${{ secrets.FTP_PORT_STG }}       # 21
    protocol: ftps                               # FTPS (Explicit TLS)
    security: loose                              # 👈 مهم: TLS رو کمی شُل می‌کنه
    local-dir: ./
    server-dir: ${{ secrets.REMOTE_PATH_STG }}   # مثلا: witroviptest.ir/witromag/wp-content/themes/yourtheme/
    timeout: 180000                              # 180s
    log-level: verbose                           # لاگ دقیق‌تر
    dangerous-clean-slate: false
    exclude: |
      **/.git*
      **/.github/**
      **/node_modules/**
      **/vendor/**
      **/*.map
      wp-content/uploads/**
